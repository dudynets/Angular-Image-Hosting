<div class="feed">
  <ng-container *ngIf="!loading">
    <ng-container *ngFor="let image of images">
      <nz-card
        [style.--imageURL]="'url(' + image.imagePublicURL + ')'"
        class="feed__card"
        [routerLink]="['/image', image.imageId]"
        style="width: 300px"
        [nzCover]="coverTemplate"
      >
        <nz-card-meta
          [nzTitle]="image.imageTitle || 'Без назви'"
          [nzDescription]="image.imageAuthorName"
          [nzAvatar]="avatarTemplate"
        ></nz-card-meta>
      </nz-card>

      <ng-template #avatarTemplate>
        <nz-avatar [nzSrc]="image.imageAuthorAvatar"></nz-avatar>
      </ng-template>
      <ng-template #coverTemplate>
        <img
          nzDisablePreview
          nz-image
          [alt]="image.imageTitle || 'Зображення'"
          [nzSrc]="image.imagePublicURL"
        />
      </ng-template>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="loading">
    <nz-spin nzSimple nzTip="Завантаження..." [nzSize]="'large'"></nz-spin>
  </ng-container>

  <ng-container *ngIf="!loading && images.length === 0">
    <nz-empty nzNotFoundContent="Зображенння відсутні"></nz-empty>
  </ng-container>
</div>
